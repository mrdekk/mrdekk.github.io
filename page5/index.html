<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name='yandex-verification' content='4a3e9fdb2ed97f52' />

  <title>
    
      Главная &middot; MrDekk
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/mrdekk.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Noto+Serif:400,400italic,700,700italic&subset=latin,cyrillic-ext,latin-ext,cyrillic'>
  <link rel="stylesheet" href="/public/css/font-awesome.min.css" >

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <link rel="stylesheet" href="/public/css/tabs.css">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
	  <img class="profile" alt="my-profile" src="/media/images/brujo.jpg" width="120px">
      <h1>MrDekk</h1>
      <p class="description">Время - лучший учитель! Жаль, что оно убивает своих учеников...</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a href="/"><i class="fa fa-home" ></i></a>
      </li>

      

      
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/about/">Кто здесь?</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/tags/">Метки</a>
            </li>
          
        
      
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/useful/">Полезное</a>
            </li>
          
        
      
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/awesome/">Awesome Stars</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </ul>

	<p class="social-icons">
		<!-- <a href="/search"><i class="fa fa-search fa-2x"></i></a> -->
		<a href="https://github.com/mrdekk"><i class="fa fa-github fa-2x"></i></a>
		<a href="https://twitter.com/mrdekk"><i class="fa fa-twitter fa-2x"></i></a>
		<a href="/atom.xml"><i class="fa fa-rss fa-2x"></i></a>
	</p>

    <p>&copy; 2025. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/11/16/note-about-ioc-and-di/">
        Заметки об IoC и DI
      </a>
    </h1>

    <i class="icon fa fa-calendar-o text-danger"></i><span class="post-date">16.11.2016</span>
	<i class="icon fa fa-tags text-success"></i><p class="entry-tags">
  	
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#architecture" title="Pages tagged architecture" rel="tag" class="text-success">architecture</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#ios" title="Pages tagged ios" rel="tag" class="text-success">ios</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#patterns" title="Pages tagged patterns" rel="tag" class="text-success">patterns</a>
        </div>
        
      
    </p>

    <p>IoC - паттерн инверсии управления (Inversion of Control), почитать можно <a href="https://ru.wikipedia.org/wiki/Инверсия_управления">тут</a>
DI - паттерн внедрения зависимостей (Dependency Injection), почитать можно <a href="https://ru.wikipedia.org/wiki/Внедрение_зависимости">тут</a></p>

<p>В последнее время все чаще участвую в разного рода дискуссиях касательно архитектуры приложений, причем не важно каких - web, десктопных или мобильных. Во всех случаях всплывают примерно одни и те же проблемы и примерно одни и те же грабли. Дабы не “мозолить” себе язык и не объяснять свою точку зрения постоянно, решил написать эту статью. Тут рассмотрим некоторые основные подходы и паттерны и затем возможные их применения при разработке приложений.</p>

<p>Но для начала предлагаю рассмотреть небольшой примерчик для понимания того, откуда проблема берется.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Inbox</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">allLetters</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Mail</span><span class="p">]</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">EmailInbox</span> <span class="p">:</span> <span class="kt">Inbox</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="kd">class</span> <span class="kt">MailService</span>
<span class="p">{</span>
    <span class="k">var</span> <span class="nv">inbox</span><span class="p">:</span> <span class="kt">Inbox</span> <span class="o">=</span> <span class="kt">EmailInbox</span><span class="p">(</span><span class="s">"null@example.com"</span><span class="p">)</span>

    <span class="kd">func</span> <span class="nf">mail</span><span class="p">(</span><span class="n">with</span> <span class="nv">recipient</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Mail</span><span class="p">]</span>
    <span class="p">{</span>
        <span class="k">let</span> <span class="nv">letters</span> <span class="o">=</span> <span class="n">inbox</span><span class="o">.</span><span class="nf">allLetters</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">letters</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">recipient</span> <span class="o">==</span> <span class="n">recipient</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Примерчик простой, однако даже в нем уже есть проблема - класс MailService крепко-накрепко связан с классом EmailInbox, несмотря даже на то, что мы честно выделили протокол Inbox. Теперь (например, в другом проекте) потребовалось использовать MailService, но при этом Inbox там реализован по другому (например через файлы). Это приведет к тому, что придется код переписывать, не получится просто взять и использовать.</p>

<p>Ситуацию можно немного ухудшить, написав примерно так.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">MailService</span>
<span class="p">{</span>
    <span class="kd">func</span> <span class="nf">mail</span><span class="p">(</span><span class="n">with</span> <span class="nv">recipient</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Mail</span><span class="p">]</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="kt">EmailInbox</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">allLetters</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">recipient</span> <span class="o">==</span> <span class="n">recipient</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Теперь внешнему наблюдателю сразу даже будет непонятно, что внутри класса есть зависимость. Да при детальном анализе кода будет ясно, но если класс не из 10 строк, а из 1000? По этой же причине опасны singleton’ы.</p>

<p>Для обеспечения переносимости кода, для возможности организовать хорошее тестирование (например заmock’ать какие-нибудь зависимости) и т.д. с этим надо что-то делать. И вот тут-то и появляются разного рода умные слова, такие как Dependency Injection, Inversion of Control и иногда Service Locator. Как правило, считается что они значат примерно одно и то же, хотя если разбираться детальнее разница между ними есть и большая.</p>

<p>Самый первый и самый с одной стороны простой термин - Dependency Injection или по-русски “внедрение зависимостей”. Вообще, это комплекс мероприятий в результате которого зависимости оказываются в вашем объекте. Даже наш простой примерчик в общем делает dependency injection в самом простом его виде - зависимость просто создается. Внедрять зависимости можно спрашивая их у кого-то (см. Service Locator) или кто-то их нам установит автоматически (см. Inversion of Control).</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">mailService</span> <span class="o">=</span> <span class="kt">MailService</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">inbox</span> <span class="o">=</span> <span class="kt">EmailInbox</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">mailServie</span><span class="o">.</span><span class="n">inbox</span> <span class="o">=</span> <span class="n">inbox</span> <span class="c1">// dependency injection</span>
</code></pre></div></div>

<p>Service Locator - это специальный объект (или фасад) у которого вы всегда сможете спросить нужную зависимость. Как правило, он либо знает где ее взять (на то он и locator), либо он сам хранит их у себя (см. паттерн реестр). Когда кому-то нужна какая-то зависимость, этот кто-то через механизмы singleton’а (или еще как) идет к Service Locator’у и спрашивает нужную зависимость.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">MailService</span>
<span class="p">{</span>
    <span class="k">var</span> <span class="nv">inbox</span><span class="p">:</span> <span class="kt">Inbox</span> <span class="o">=</span> <span class="kt">ServiceLocator</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">inbox</span> <span class="c1">// service locator</span>
    <span class="o">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Третий термин (Inversion of Control) рассмотрим подробнее.</p>

<p>Но сначала давайте разберемся с тем, что за “control” инвертируется. Когда-то давно, когда приложения были консольными, control-flow приложения выглядел примерно так: мы запрашиваем с устройства ввода у пользователя данные, обрабатываем их и выводим на устройство вывода. Потоком управления управляло (пардон за тавталогию) само приложение. Когда появились графические UI приложение вместо того, чтобы управлять циклом приложения стало обрабатывать событие, отдав управление операционной системе. Таким образом получилась инверсия control-flow приложения. Таким же образом обстоит дело с инверсией при внедрении зависимостей при использовании паттерна Inversion of Control - управление временем жизни объекта и внедрением зависимостей делегируется специальному объекту, в задачу которого входит создание всех необходимых объектов и установка ссылок между ними. Этот специальный объект может называться сборщиком (assembler), контейнером (inversion of control container, см. Spring Framework) или еще как-нибудь, сути его это не меняеет.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">IoCContainer</span> <span class="c1">// Inversion of Control container (assembler)</span>
<span class="p">{</span>
    <span class="k">let</span> <span class="nv">mailService</span><span class="p">:</span> <span class="kt">MailService</span><span class="o">!</span>
    <span class="k">let</span> <span class="nv">inbox</span><span class="p">:</span> <span class="kt">Inbox</span>

    <span class="kd">func</span> <span class="nf">build</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">create</span><span class="p">()</span>
        <span class="nf">internlink</span><span class="p">()</span>
        <span class="nf">post</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">mailService</span> <span class="o">=</span> <span class="kt">MailService</span><span class="p">()</span>
        <span class="n">inbox</span> <span class="o">=</span> <span class="kt">EmailInbox</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">interlink</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">mailService</span><span class="o">.</span><span class="n">inbox</span> <span class="o">=</span> <span class="n">inbox</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">post</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">mailService</span><span class="o">.</span><span class="nf">postCreate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Главное отличие контейнера от сервис локатора в том, что контейнер конкретный класс как правило не видит - зависимости для него появляются автомагически (automagically), а service locator видит и даже может быть хранит на него ссылку, а если еще и сильную… Кроме того, при использовании контейнера вы можете например иметь циклическую ссылку (с учетом конечно всех требований ARC и weak), или выполнить что-то после того, как весь граф (не дерево! и это важно) зависимостей будет собран (см. IoCContainer.post)</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/11/09/todos-in-swift-xcode/">
        TODO в swift в Xcode
      </a>
    </h1>

    <i class="icon fa fa-calendar-o text-danger"></i><span class="post-date">09.11.2016</span>
	<i class="icon fa fa-tags text-success"></i><p class="entry-tags">
  	
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#swift" title="Pages tagged swift" rel="tag" class="text-success">swift</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#ios" title="Pages tagged ios" rel="tag" class="text-success">ios</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#xcode" title="Pages tagged xcode" rel="tag" class="text-success">xcode</a>
        </div>
        
      
    </p>

    <p>Очень часто в процессе разработки бывает, когда вместо некоторого кода пишется временная заглушка или некий временный код, или даже просто участок кода к которому необходимо вернуться чуть позже, например:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// TODO: we need to convert to float math for better precision</span>
<span class="k">let</span> <span class="nv">sum</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
<span class="k">let</span> <span class="nv">avg</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span>
</code></pre></div></div>

<p>И хотелось бы, чтобы Xcode каким-либо образом это подсвечивал, например как это было в старом добром Objective-C</p>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#warning we need to convert to float math for better precision
</span><span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">avg</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</code></pre></div></div>

<p>Но в Xcode “из коробки” увы нет такой поддержки для Swift. Быть может она появится в будущем, сейчас же предлагаю применить черную магию и написать скрипт. Для этого идем в Build Phases и создаем “Run Script”, поместить его можно в конце. Содержание скрипта такое:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">TAGS</span><span class="o">=</span><span class="s2">"TODO:|FIXME:"</span>
find <span class="s2">"</span><span class="k">${</span><span class="nv">SRCROOT</span><span class="k">}</span><span class="s2">"</span> <span class="se">\(</span> <span class="nt">-name</span> <span class="s2">"*.h"</span> <span class="nt">-or</span> <span class="nt">-name</span> <span class="s2">"*.m"</span> <span class="nt">-or</span> <span class="nt">-name</span> <span class="s2">"*.swift"</span> <span class="se">\)</span> <span class="nt">-print0</span> | xargs <span class="nt">-0</span> egrep <span class="nt">--with-filename</span> <span class="nt">--line-number</span> <span class="nt">--only-matching</span> <span class="s2">"(</span><span class="nv">$TAGS</span><span class="s2">).*</span><span class="se">\$</span><span class="s2">"</span> | perl <span class="nt">-p</span> <span class="nt">-e</span> <span class="s2">"s/(</span><span class="nv">$TAGS</span><span class="s2">)/ warning: </span><span class="se">\$</span><span class="s2">1/"</span>
</code></pre></div></div>

<p>Xcode после сборки начнет подсвечивать ваши TODO’шки так</p>

<p><img src="/media/images/xcode_todos_1.png" alt="highlight todos" /></p>

<p>Если вы хотите подсвечивать еще например // ERROR: как ошибки, можно скрипт сделать таким</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">TAGS</span><span class="o">=</span><span class="s2">"TODO:|FIXME:"</span>
<span class="nv">ERRORTAG</span><span class="o">=</span><span class="s2">"ERROR:"</span>
find <span class="s2">"</span><span class="k">${</span><span class="nv">SRCROOT</span><span class="k">}</span><span class="s2">"</span> <span class="se">\(</span> <span class="nt">-name</span> <span class="s2">"*.h"</span> <span class="nt">-or</span> <span class="nt">-name</span> <span class="s2">"*.m"</span> <span class="nt">-or</span> <span class="nt">-name</span> <span class="s2">"*.swift"</span> <span class="se">\)</span> <span class="nt">-print0</span> | xargs <span class="nt">-0</span> egrep <span class="nt">--with-filename</span> <span class="nt">--line-number</span> <span class="nt">--only-matching</span> <span class="s2">"(</span><span class="nv">$TAGS</span><span class="s2">).*</span><span class="se">\$</span><span class="s2">|(</span><span class="nv">$ERRORTAG</span><span class="s2">).*</span><span class="se">\$</span><span class="s2">"</span> | perl <span class="nt">-p</span> <span class="nt">-e</span> <span class="s2">"s/(</span><span class="nv">$TAGS</span><span class="s2">)/ warning: </span><span class="se">\$</span><span class="s2">1/"</span> | perl <span class="nt">-p</span> <span class="nt">-e</span> <span class="s2">"s/(</span><span class="nv">$ERRORTAG</span><span class="s2">)/ error: </span><span class="se">\$</span><span class="s2">1/"</span>
</code></pre></div></div>

<p>Xcode сделает так</p>

<p><img src="/media/images/xcode_todos_2.png" alt="highlight errors" /></p>

<p>Придумал не сам, нашел <a href="http://krakendev.io/blog/generating-warnings-in-xcode">тут</a> и перевел.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/10/05/yandex-mobile-contest/">
        Yandex Mobile Contest
      </a>
    </h1>

    <i class="icon fa fa-calendar-o text-danger"></i><span class="post-date">05.10.2016</span>
	<i class="icon fa fa-tags text-success"></i><p class="entry-tags">
  	
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#swift" title="Pages tagged swift" rel="tag" class="text-success">swift</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#objc" title="Pages tagged objc" rel="tag" class="text-success">objc</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#ios" title="Pages tagged ios" rel="tag" class="text-success">ios</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#java" title="Pages tagged java" rel="tag" class="text-success">java</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#android" title="Pages tagged android" rel="tag" class="text-success">android</a>
        </div>
        
      
    </p>

    <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">ymc</span> <span class="o">=</span> <span class="kt">Event</span><span class="p">(</span><span class="s">"Yandex Mobile Contest"</span><span class="p">,</span> <span class="nv">at</span><span class="p">:</span><span class="s">"2016-10-17"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">attendee</span> <span class="o">=</span> <span class="kt">AnyPerson</span><span class="p">()</span>
<span class="k">if</span> <span class="n">attendee</span><span class="o">.</span><span class="nf">haveInterest</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="s">"Мобильная разработка"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">attendee</span><span class="o">.</span><span class="nf">takePart</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">ymc</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">attendee</span><span class="o">.</span><span class="nf">winPrize</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">ymc</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Проводим в Яндексе соревнование мобильных разработчиков, приглашаем всех желающих.
<a href="https://yandex.ru/ymc?utm_source=mrdekk_blog">Регистрируйтесь тут</a></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/10/01/why-not-use-react-native/">
        Почему не надо использовать React Native
      </a>
    </h1>

    <i class="icon fa fa-calendar-o text-danger"></i><span class="post-date">01.10.2016</span>
	<i class="icon fa fa-tags text-success"></i><p class="entry-tags">
  	
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#js" title="Pages tagged js" rel="tag" class="text-success">js</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#react+native" title="Pages tagged react native" rel="tag" class="text-success">react native</a>
        </div>
        
      
    </p>

    <p>Хорошая статья почему не надо использовать React Native, правда на английском.</p>

<p>https://arielelkin.github.io/articles/why-im-not-a-react-native-developer</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/09/27/git-cookbook/">
        GIT cookbook
      </a>
    </h1>

    <i class="icon fa fa-calendar-o text-danger"></i><span class="post-date">27.09.2016</span>
	<i class="icon fa fa-tags text-success"></i><p class="entry-tags">
  	
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#git" title="Pages tagged git" rel="tag" class="text-success">git</a>
        </div>
        &nbsp;
      
  	  <div class="label bg-success">
  	    <a href="http://mrdekk.ru/tags/#handbook" title="Pages tagged handbook" rel="tag" class="text-success">handbook</a>
        </div>
        
      
    </p>

    <p>Разное полезное для гита</p>

<h2 id="забрать-к-себе-все-ветки-с-remote">Забрать к себе все ветки с remote</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-r</span> | <span class="nb">grep</span> <span class="nt">-v</span> <span class="s1">'\-&gt;'</span> | <span class="k">while </span><span class="nb">read </span>remote<span class="p">;</span> <span class="k">do </span>git branch <span class="nt">--track</span> <span class="s2">"</span><span class="k">${</span><span class="nv">remote</span><span class="p">#origin/</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$remote</span><span class="s2">"</span><span class="p">;</span> <span class="k">done
</span>git fetch <span class="nt">--all</span>
git pull <span class="nt">--all</span>
</code></pre></div></div>

<h2 id="отправить-все-локальные-бранчи-в-новый-remote">Отправить все локальные бранчи в новый remote</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push REMOTE <span class="nt">--all</span>
<span class="c"># or git push REMOTE '*:*'</span>

git push REMOTE <span class="nt">--tags</span>
</code></pre></div></div>

<h2 id="поудалять-все-теги-по-маске">Поудалять все теги по маске</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag <span class="nt">-l</span> | <span class="nb">grep </span>_clog | <span class="k">while </span><span class="nb">read </span>remote<span class="p">;</span> <span class="k">do </span>git tag <span class="nt">-d</span> <span class="nv">$remote</span><span class="p">;</span> git push origin :refs/tags/<span class="nv">$remote</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div></div>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page6"><i class="fa fa-hand-o-left" ></i> назад</a>
  
  
    
      <a class="pagination-item newer" href="/page4">вперед <i class="fa fa-hand-o-right" ></i></a>
    
  
</div>

    </div>

	<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter13259782 = new Ya.Metrika({
                    id:13259782,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    webvisor:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/13259782" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-16734363-2', 'auto');
  ga('send', 'pageview');

</script>

    <script src="/public/js/tabs.js"></script>

  </body>
</html>
