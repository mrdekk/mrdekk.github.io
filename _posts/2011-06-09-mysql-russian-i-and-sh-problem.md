---
layout: post
title: MySQL. Проблема с русскими буквами «И» и «ш».
tags:
 - mysql
 - sql
 - problem
---

Пришлось тут намедни осуществлять переезд системы redmine с одного сервера на другой. Переезд файлов и скриптов прошел без проблем, а вот переезд базы омрачился тем, что вместо нормальных русских букв «И» и «ш» стали отображаться кракозябры.

После применения черной магии стало понятно, что косяк в кодировке. База имеет кодировку по-умолчанию utf8, а redmine (в силу исторических причин) использует cp1251.

Чтобы все заработало как надо, экспортировать базу надо так

``` bash
$ mysqdump --user=<user> --password=<censored> --default-character-set=cp1251 redmine > redmine.sql
```

А импортировать

``` bash
$ mysql --user=<user> --password=<censored> --default-character-set=cp1251 redmine < redmine.sql
```
